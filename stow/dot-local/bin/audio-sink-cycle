#!/usr/bin/env nu

let default = pactl get-default-sink

let sinks = pactl list short sinks 
    | detect columns -n 
    | where not ($it.column1 | str contains "hdmi-stereo")

let nextSink = ($sinks | append $sinks | skip until {|x| $x.column1 != $default} | take 1)

pactl set-default-sink ($nextSink | get column0.0)

ffplay -v 0 -volume 50 -nodisp -autoexit "/home/grig/.local/assets/minecraft-item-pop.mp3"

